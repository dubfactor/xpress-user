(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(48)},34:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(13),i=a.n(l),s=(a(34),a(17)),o=a(8),c=a(9),m=a(11),d=a(10),u=a(12),h=a(57),p=a(58),f=a(59),g=a(53),E=a(60),y=a(54),_=a(55),b=a(14),v=a(49),C=a(50),S=a(51),j=a(52),O=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={user_id:0,first_name:"",last_name:"",email:"",city:"",zipcode:"",address:"",registration_date:"",phone:"",added:""},a.onChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a.submitFormAdd=function(e){e.preventDefault(),fetch("http://localhost:3000/crud",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:a.state.user_id,first_name:a.state.first_name,last_name:a.state.last_name,email:a.state.email,city:a.state.city,zipcode:a.state.zipcode,address:a.state.address,registration_date:a.state.registration_date,phone:a.state.phone,added:a.state.added})}).then(function(e){return e.json()}).then(function(e){Array.isArray(e)?(a.props.addItemToState(e[0]),a.props.toggle()):console.log("failure on submitFormAdd()")}).catch(function(e){return console.log(e)})},a.submitFormEdit=function(e){e.preventDefault(),fetch("http://localhost:3000/crud",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:a.state.user_id,first_name:a.state.first_name,last_name:a.state.last_name,email:a.state.email,city:a.state.city,zipcode:a.state.zipcode,address:a.state.address,registration_date:a.state.registration_date,phone:a.state.phone,added:a.state.added})}).then(function(e){return e.json()}).then(function(e){Array.isArray(e)?(a.props.updateState(e[0]),a.props.toggle()):console.log("failure on submitFormEdit()")}).catch(function(e){return console.log(e)})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){if(this.props.item){var e=this.props.item,t=e.user_id,a=e.first_name,n=e.last_name,r=e.email,l=e.city,i=e.zipcode,s=e.address,o=e.registration_date,c=e.phone;this.setState({user_id:t,first_name:a,last_name:n,email:r,city:l,zipcode:i,address:s,registration_date:o,phone:c})}}},{key:"render",value:function(){return r.a.createElement(v.a,{onSubmit:this.props.item?this.submitFormEdit:this.submitFormAdd},r.a.createElement(C.a,null,r.a.createElement(S.a,{for:"user_id"},"user_id"),r.a.createElement(j.a,{type:"text",name:"user_id",id:"user_id",onChange:this.onChange,value:null===this.state.user_id?"":this.state.user_id})),r.a.createElement(C.a,null,r.a.createElement(S.a,{for:"first_name"},"First Name"),r.a.createElement(j.a,{type:"text",name:"first_name",id:"first_name",onChange:this.onChange,value:null===this.state.first_name?"":this.state.first_name})),r.a.createElement(C.a,null,r.a.createElement(S.a,{for:"last_name"},"Last Name"),r.a.createElement(j.a,{type:"text",name:"last_name",id:"last_name",onChange:this.onChange,value:null===this.state.last_name?"":this.state.last_name})),r.a.createElement(C.a,null,r.a.createElement(S.a,{for:"email"},"Email"),r.a.createElement(j.a,{type:"email",name:"email",id:"email",onChange:this.onChange,value:null===this.state.email?"":this.state.email})),r.a.createElement(C.a,null,r.a.createElement(S.a,{for:"city"},"Phone"),r.a.createElement(j.a,{type:"text",name:"city",id:"city",onChange:this.onChange,value:null===this.state.city?"":this.state.city})),r.a.createElement(C.a,null,r.a.createElement(S.a,{for:"zipcode"},"Zipcode"),r.a.createElement(j.a,{type:"text",name:"zipcode",id:"zipcode",onChange:this.onChange,value:null===this.state.zipcode?"":this.state.zipcode})),r.a.createElement(C.a,null,r.a.createElement(S.a,{for:"address"},"Address"),r.a.createElement(j.a,{type:"text",name:"address",id:"address",onChange:this.onChange,value:null===this.state.address?"":this.state.address})),r.a.createElement(C.a,null,r.a.createElement(S.a,{for:"registration_date"},"Registration_Date"),r.a.createElement(j.a,{type:"text",name:"registration_date",id:"registration_date",onChange:this.onChange,value:null===this.state.registration_date?"":this.state.registration_date})),r.a.createElement(C.a,null,r.a.createElement(S.a,{for:"phone"},"Phone"),r.a.createElement(j.a,{type:"text",name:"phone",id:"phone",onChange:this.onChange,value:null===this.state.phone?"":this.state.phone})),r.a.createElement(C.a,null,r.a.createElement(S.a,{for:"added"},"Added"),r.a.createElement(j.a,{type:"text",name:"added",id:"added",onChange:this.onChange,value:null===this.state.added?"":this.state.added})),r.a.createElement(g.a,null,"Submit"))}}]),t}(r.a.Component),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).toggle=function(){a.setState(function(e){return{modal:!e.modal}})},a.state={modal:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=r.a.createElement("button",{className:"close",onClick:this.toggle},"\xd7"),t=this.props.buttonLabel,a="",n="";return"Edit"===t?(a=r.a.createElement(g.a,{color:"warning",onClick:this.toggle,style:{float:"left",marginRight:"10px"}},t),n="Edit Item"):(a=r.a.createElement(g.a,{color:"success",onClick:this.toggle,style:{float:"left",marginRight:"10px"}},t),n="Add New Item"),r.a.createElement("div",null,a,r.a.createElement(E.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},r.a.createElement(y.a,{toggle:this.toggle,close:e},n),r.a.createElement(_.a,null,r.a.createElement(O,{addItemToState:this.props.addItemToState,updateState:this.props.updateState,toggle:this.toggle,item:this.props.item}))))}}]),t}(n.Component),I=a(56),k=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).deleteItem=function(e){window.confirm("Delete item forever?")&&fetch("http://localhost:3000/crud",{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}).then(function(e){return e.json()}).then(function(t){a.props.deleteItemFromState(e)}).catch(function(e){return console.log(e)})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.items.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("th",{scope:"row"},t.id),r.a.createElement("td",null,t.first_name),r.a.createElement("td",null,t.last_name),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.city),r.a.createElement("td",null,t.zipcode),r.a.createElement("td",null,t.address),r.a.createElement("td",null,t.registration_date),r.a.createElement("td",null,t.phone),r.a.createElement("td",null,r.a.createElement("div",{style:{width:"110px"}},r.a.createElement(w,{buttonLabel:"Edit",item:t,updateState:e.props.updateState})," ",r.a.createElement(g.a,{color:"danger",onClick:function(){return e.deleteItem(t.id)}},"Del"))))});return r.a.createElement(I.a,{responsive:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"First"),r.a.createElement("th",null,"Last"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"City"),r.a.createElement("th",null,"Zip"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Sticker_Date"))),r.a.createElement("tbody",null,t))}}]),t}(n.Component),x=a(28),A=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={items:[]},a.addItemToState=function(e){a.setState(function(t){return{items:[].concat(Object(s.a)(t.items),[e])}})},a.updateState=function(e){var t=a.state.items.findIndex(function(t){return t.id===e.id}),n=[].concat(Object(s.a)(a.state.items.slice(0,t)),[e],Object(s.a)(a.state.items.slice(t+1)));a.setState({items:n})},a.deleteItemFromState=function(e){var t=a.state.items.filter(function(t){return t.id!==e});a.setState({items:t})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"getItems",value:function(){var e=this;fetch("http://localhost:3000/crud").then(function(e){return e.json()}).then(function(t){return e.setState({items:t})}).catch(function(e){return console.log(e)})}},{key:"componentDidMount",value:function(){this.getItems()}},{key:"render",value:function(){return r.a.createElement(h.a,{className:"App"},r.a.createElement(p.a,null,r.a.createElement(f.a,null,r.a.createElement("h1",{style:{margin:"20px 0"}},"CRUD Database"))),r.a.createElement(p.a,null,r.a.createElement(f.a,null,r.a.createElement(k,{items:this.state.items,updateState:this.updateState,deleteItemFromState:this.deleteItemFromState}))),r.a.createElement(p.a,null,r.a.createElement(f.a,null,r.a.createElement(x.CSVLink,{filename:"db.csv",color:"primary",style:{float:"left",marginRight:"10px"},className:"btn btn-primary",data:this.state.items},"Download CSV"),r.a.createElement(w,{buttonLabel:"Add Item",addItemToState:this.addItemToState}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(47);i.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.953ba907.chunk.js.map